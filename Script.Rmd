---
title: "Running Wolframscript using R"
author: "Arrigo Coen"
date: "10/18/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction

Here is presented an example of how to run a **Mathematica** script using Wolframscript using R to generate the needed files. For more details on using this example see see <https://github.com/ArrigoCoen/How-to-use-wolframscript>.

In this example we want to obtain the output of the command `Solve[{x == y - 13, y == 4 x + 23}]`

First, we charge the functions that we use
```{r}
source("Functions.R")
```

## Including Plots

You can also embed plots, for example:

```{r}
text_to_run <- "Solve[{x == y - 13, y == 4 x + 234}]" # the equation to run
folder_nb_file <- "WLS_files_local" # the folder were the wls files will be stored
file_name <- "Solving_equation_with_WS" # name of the wls file that we generate
nb_comments <- "This is a .nb file generated by the function gen_nb_file\n Author: Arrigo Coen" # beginning comments 
add_print <- T # extra Print[...] text
```

Now, we could run the function `gen_nb_file` to generate the `.nb` files

```{r}
gen_nb_file(file_name,text_to_run,folder_nb_file, add_print)
```


## Copy the files throug Terminal using R

```{r}
folder_nb_file <- "WLS_files_local"
file_to_copy <- "Solving_equation_with_WS.wls"
path_of_the_copied_file <-  "Folder_of_cluster"

copy_using_Terminal(file_to_copy,folder_nb_file,path_of_the_copied_file)
```

## Running the wolfromscript using R

To run the wolframscript using R we use the function `rut_Terminal_using_R`. An example of how to run this function is:
```{r}
folder_files_wls <- "Folder_of_cluster"
wls_file_to_run <- "Solving_equation_with_WS.wls"
output_name <- "output_Solving_equation_with_WS.txt"
rut_Terminal_using_R(folder_files_wls, wls_file_to_run, output_name)
```
This function uses the `system`command to run the wolframscript.